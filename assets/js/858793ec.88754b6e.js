"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[5014],{5451:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=o(5893),t=o(1151);const s={},r="Loki",l={id:"log-ingestion/loki",title:"Loki",description:"Smoothly transition from your current Loki installation to SigLens with ease. SigLens seamlessly accommodates log ingestion in Loki format, making it a straightforward and hassle-free substitute for Loki.",source:"@site/docs/log-ingestion/loki.md",sourceDirName:"log-ingestion",slug:"/log-ingestion/loki",permalink:"/siglens-docs/log-ingestion/loki",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Open Telemetry",permalink:"/siglens-docs/log-ingestion/open-telemetry"},next:{title:"Instrumention for Traces",permalink:"/siglens-docs/category/instrumention-for-traces"}},a={},c=[{value:"Ingesting logs in Loki Format:",id:"ingesting-logs-in-loki-format",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"loki",children:"Loki"}),"\n",(0,i.jsx)(n.p,{children:"Smoothly transition from your current Loki installation to SigLens with ease. SigLens seamlessly accommodates log ingestion in Loki format, making it a straightforward and hassle-free substitute for Loki."}),"\n",(0,i.jsxs)(n.p,{children:["To learn more about Loki, check out the ",(0,i.jsx)(n.a,{href:"https://grafana.com/oss/loki/",children:"Loki website"})]}),"\n",(0,i.jsx)(n.h2,{id:"ingesting-logs-in-loki-format",children:"Ingesting logs in Loki Format:"}),"\n",(0,i.jsxs)(n.p,{children:["To Ingest logs in Loki format, we are going to use the ",(0,i.jsx)(n.strong,{children:"Promtail"})," tool."]}),"\n",(0,i.jsx)(n.p,{children:"Download the correct binary for Promtail and unzip it in your local system."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"The below process uses the MacOS binary files"})}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you are on a Linux host, please download and use the correct Binary file from the ",(0,i.jsx)(n.a,{href:"https://github.com/grafana/loki/releases/",children:"Loki releases"}),". The Linux binary for x86 architecture is called ",(0,i.jsx)(n.code,{children:"promtail-linux-amd64.zip"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Step 1"}),": Download and unzip the Promtail Binary"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'curl -O -L "https://github.com/grafana/loki/releases/download/v2.8.2/promtail-darwin-amd64.zip"\n\n unzip promtail-darwin-amd64.zip\n\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Step 2"}),": Create a new file called ",(0,i.jsx)(n.code,{children:"promtail-local-config.yaml"})," and add the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"server:\n  http_listen_port: 9080\n  grpc_listen_port: 0\n\npositions:\n  filename: /tmp/positions.yaml\n\nclients:\n  - url: http://localhost:8081/loki/api/v1/push\nscrape_configs:\n- job_name: system\n  static_configs:\n  - targets:\n      - localhost\n    labels:\n      job: varlogs\n      __path__: /var/log/*log\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Step 3"}),": Run the binary with the ",(0,i.jsx)(n.code,{children:"promtail-local-config.yaml"})," configuration file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:" ./promtail-darwin-amd64 -config.file=promtail-local-config.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see an output similar to the one below if the logs are successfully ingested."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:o(6746).Z+"",width:"1917",height:"630"})})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},6746:(e,n,o)=>{o.d(n,{Z:()=>i});const i=o.p+"assets/images/loki-ingestion-21aaaa6fae2c025111bf1452508a8eb6.png"},1151:(e,n,o)=>{o.d(n,{Z:()=>l,a:()=>r});var i=o(7294);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);