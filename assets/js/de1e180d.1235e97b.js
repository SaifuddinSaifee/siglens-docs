"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[5277],{4229:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var s=n(5893),l=n(1151);const t={},a="Filebeat",o={id:"log-ingestion/beats/filebeat-elasticsearch",title:"Filebeat",description:"Filebeat can be used to ingest logs into Elasticsearch from a file. Read more about filebeat here.",source:"@site/docs/log-ingestion/beats/filebeat-elasticsearch.md",sourceDirName:"log-ingestion/beats",slug:"/log-ingestion/beats/filebeat-elasticsearch",permalink:"/siglens-docs/log-ingestion/beats/filebeat-elasticsearch",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Beats",permalink:"/siglens-docs/category/beats"},next:{title:"Metricbeat",permalink:"/siglens-docs/log-ingestion/beats/metricbeat-elasticsearch"}},r={},c=[{value:"Install Filebeat",id:"install-filebeat",level:2},{value:"Linux based Systems",id:"linux-based-systems",level:3},{value:"Windows",id:"windows",level:3},{value:"Filebeat Configuartion",id:"filebeat-configuartion",level:2},{value:"Sample Configuartion",id:"sample-configuartion",level:2},{value:"Run Filebeat Config",id:"run-filebeat-config",level:2},{value:"Linux based systems",id:"linux-based-systems-1",level:3},{value:"Windows",id:"windows-1",level:3},{value:"Filebeat NOTICE",id:"filebeat-notice",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"filebeat",children:"Filebeat"}),"\n",(0,s.jsxs)(i.p,{children:["Filebeat can be used to ingest logs into Elasticsearch from a file. Read more about ",(0,s.jsx)(i.a,{href:"https://www.elastic.co/guide/en/beats/filebeat/7.9/filebeat-overview.html",children:"filebeat here"}),"."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["SigLens can be ingested data in Elasticsearch format through Filebeat. Install Filebeat. Learn more about ",(0,s.jsx)(i.a,{href:"#install-filebeat",children:"installation here"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Make sure that the ",(0,s.jsx)(i.code,{children:"endpoints"})," in the configuration has the ",(0,s.jsx)(i.code,{children:"/elastic"})," suffix."]}),"\n",(0,s.jsxs)(i.li,{children:["Create a filebeat config file with the below ",(0,s.jsx)(i.a,{href:"#sample-configuration",children:"sample configuration"}),". Read more about ",(0,s.jsx)(i.a,{href:"#filebeat-configuartion",children:"Filebeat Config file"})," below."]}),"\n",(0,s.jsxs)(i.li,{children:["Run the command: ",(0,s.jsx)(i.code,{children:"filebeat -c filebeat_config.yaml"}),". Read more about ",(0,s.jsx)(i.a,{href:"#run-filebeat-config",children:"running filebeat config"})," below."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Note:"})," For Linux Systems, please read the ",(0,s.jsx)(i.a,{href:"#filebeat-notice",children:"NOTICE section"})," below before proceeding with installation."]}),"\n",(0,s.jsx)(i.h2,{id:"install-filebeat",children:"Install Filebeat"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Download this exact version of Filebeat: ",(0,s.jsx)(i.a,{href:"https://www.elastic.co/downloads/past-releases/filebeat-oss-7-9-3",children:(0,s.jsx)(i.code,{children:"filebeat-oss-7.9.3"})}),". It is important to download this version, as this is the version that is compatible with Siglens Elasticsearch version: ",(0,s.jsx)(i.code,{children:"7.9.3"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"The Filebeat has multiple options to choose from for different OS-based systems."}),"\n",(0,s.jsx)(i.li,{children:"Once the Filebeat version is downloaded. Use the below commands to install on depending on the OS."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"linux-based-systems",children:"Linux based Systems"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"sudo dpkg -i filebeat-oss-7.9.3-amd64.deb\n# OR\ntar xzvf filebeat-oss-7.9.3-linux-x86_64.tar.gz\n"})}),"\n",(0,s.jsx)(i.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Download the Zip version."}),"\n",(0,s.jsx)(i.li,{children:"Extract the contents of the zip file into C:\\Program Files."}),"\n",(0,s.jsx)(i.li,{children:"Rename the filebeat-oss-7.9.3-windows-x86_64 directory to Filebeat."}),"\n",(0,s.jsxs)(i.li,{children:["Open a PowerShell prompt as an Administrator (right-click the PowerShell icon and select ",(0,s.jsx)(i.strong,{children:"Run As Administrator"}),")."]}),"\n",(0,s.jsx)(i.li,{children:"From the PowerShell prompt, run the following commands to install Filebeat as a Windows service:"}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"PS > cd 'C:\\Program Files\\Filebeat'\nPS C:\\Program Files\\Filebeat> .\\install-service-filebeat.ps1\n"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Read more about the installation process ",(0,s.jsx)(i.a,{href:"https://www.elastic.co/guide/en/beats/filebeat/7.9/filebeat-installation-configuration.html",children:"here"})]}),"\n",(0,s.jsx)(i.li,{children:"But Remember to use the version mentioned above."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"filebeat-configuartion",children:"Filebeat Configuartion"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"The input for a Filebeat is a list of file paths."}),"\n",(0,s.jsx)(i.li,{children:"Filebeat will track those files and will ingest data into the output."}),"\n",(0,s.jsx)(i.li,{children:"The hosts endpoints should be: [http://localhost:8081/elastic/]"}),"\n",(0,s.jsxs)(i.li,{children:["Read more about Filebeat Inputs and configuration from ",(0,s.jsx)(i.a,{href:"https://www.elastic.co/guide/en/beats/filebeat/7.9/configuration-filebeat-options.html",children:"here"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"sample-configuartion",children:"Sample Configuartion"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"filebeat.inputs:\n  - type: log\n    enabled: true\n    paths:\n      - C:\\Program Files\\Filebeat\\SplunkExport.json # Ensure this is the correct path\n\noutput.elasticsearch:\n  # Custom Elasticsearch endpoint\n  hosts: ['http://localhost:8081/elastic/']\n  index: 'filebeat-ind-0' # Custom index name\n\n# Template settings (adjust if you're managing templates externally)\n# setup.template.name: \"filebeat\"\n# setup.template.pattern: \"filebeat-ind-*\"\n\n# Disable template management\nsetup.template.enabled: false\n\n# Disable ilm\nsetup.ilm.enabled: false\n# Set log level as debug for more detailed logging.\n# logging.level: debug\n"})}),"\n",(0,s.jsx)(i.h2,{id:"run-filebeat-config",children:"Run Filebeat Config"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.h3,{id:"linux-based-systems-1",children:"Linux based systems"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"sudo filebeat -e -c <<path-of-filebeat-config>>"})}),"\n",(0,s.jsx)(i.li,{children:"-e is an optional argument that is used for logging."}),"\n",(0,s.jsx)(i.li,{children:"The example below assumes that your Filebeat config file is at /home/filebeat-config/filebeat.yaml"}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"sudo filebeat -e -c /home/filebeat-config/filebeat.yaml\n"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.h3,{id:"windows-1",children:"Windows"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Navigate to the Path where Filebeat is."}),"\n",(0,s.jsxs)(i.li,{children:["As per the above setup, it is at ",(0,s.jsx)(i.code,{children:"C:\\Program Files\\Filebeat"})]}),"\n",(0,s.jsxs)(i.li,{children:["Then run command: ",(0,s.jsx)(i.code,{children:".\\filebeat.exe -e -c <<path-of-filebeat-config>>"})]}),"\n",(0,s.jsx)(i.li,{children:"-e is an optional argument that is used for logging."}),"\n",(0,s.jsx)(i.li,{children:"The example below assumes that your Filebeat config file is at D:\\Siglens\\filebeat_elasticsearch.yml"}),"\n",(0,s.jsxs)(i.li,{children:["Note: Open a PowerShell prompt as an Administrator (right-click the PowerShell icon and select ",(0,s.jsx)(i.strong,{children:"Run As Administrator"}),")."]}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"PS > cd 'C:\\Program Files\\Filebeat'\nPS C:\\Program Files\\Filebeat>.\\filebeat.exe -e -c D:\\Siglens\\filebeat_elasticsearch.yml\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"filebeat-notice",children:"Filebeat NOTICE"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"The Filebeat will not work on Linux-based systems because of the go version that is being used in that specific Filebeat version, which the Linux OS is not allowing the creation of a new thread."}),"\n",(0,s.jsxs)(i.li,{children:["The image shows the error. The related issue of this can be found here: ",(0,s.jsx)(i.a,{href:"https://github.com/docker-library/golang/issues/467",children:"https://github.com/docker-library/golang/issues/467"})]}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,l.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1151:(e,i,n)=>{n.d(i,{Z:()=>o,a:()=>a});var s=n(7294);const l={},t=s.createContext(l);function a(e){const i=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);