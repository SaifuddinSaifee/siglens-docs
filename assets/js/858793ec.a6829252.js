"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[14],{5451:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var o=i(5893),s=i(1151);const t={},r="Loki",a={id:"log-ingestion/loki",title:"Loki",description:"Smoothly transition from your current Loki installation to SigLens with ease. SigLens seamlessly accommodates log ingestion in Loki format, making it a straightforward and hassle-free substitute for Loki.",source:"@site/docs/log-ingestion/loki.md",sourceDirName:"log-ingestion",slug:"/log-ingestion/loki",permalink:"/siglens-docs/log-ingestion/loki",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Elastic Search",permalink:"/siglens-docs/log-ingestion/elastic-search"},next:{title:"Instrumention for Traces",permalink:"/siglens-docs/category/instrumention-for-traces"}},l={},c=[{value:"Ingesting logs in Loki Format:",id:"ingesting-logs-in-loki-format",level:2}];function d(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"loki",children:"Loki"}),"\n",(0,o.jsx)(e.p,{children:"Smoothly transition from your current Loki installation to SigLens with ease. SigLens seamlessly accommodates log ingestion in Loki format, making it a straightforward and hassle-free substitute for Loki."}),"\n",(0,o.jsxs)(e.p,{children:["To learn more about Loki, check out the ",(0,o.jsx)(e.a,{href:"https://grafana.com/oss/loki/",children:"Loki website"})]}),"\n",(0,o.jsx)(e.h2,{id:"ingesting-logs-in-loki-format",children:"Ingesting logs in Loki Format:"}),"\n",(0,o.jsxs)(e.p,{children:["To Ingest logs in Loki format, we are going to use the ",(0,o.jsx)(e.strong,{children:"Promtail"})," tool."]}),"\n",(0,o.jsx)(e.p,{children:"Download the correct binary for Promtail and unzip it in your local system."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.em,{children:(0,o.jsx)(e.strong,{children:"The below process uses the MacOS binary files"})}),"."]}),"\n",(0,o.jsxs)(e.p,{children:["If you are on a Linux host, please download and use the correct Binary file from the ",(0,o.jsx)(e.a,{href:"https://github.com/grafana/loki/releases/",children:"Loki releases"}),". The Linux binary for x86 architecture is called ",(0,o.jsx)(e.code,{children:"promtail-linux-amd64.zip"})]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 1"}),": Download and unzip the Promtail Binary"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'curl -O -L "https://github.com/grafana/loki/releases/download/v2.8.2/promtail-darwin-amd64.zip"\n\n unzip promtail-darwin-amd64.zip\n\n'})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 2"}),": Create a new file called ",(0,o.jsx)(e.code,{children:"promtail-local-config.yaml"})," and add the following configuration:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"server:\n  http_listen_port: 9080\n  grpc_listen_port: 0\n\npositions:\n  filename: /tmp/positions.yaml\n\nclients:\n  - url: http://localhost:8081/loki/api/v1/push\nscrape_configs:\n- job_name: system\n  static_configs:\n  - targets:\n      - localhost\n    labels:\n      job: varlogs\n      __path__: /var/log/*log\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 3"}),": Run the binary with the ",(0,o.jsx)(e.code,{children:"promtail-local-config.yaml"})," configuration file."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:" ./promtail-darwin-amd64 -config.file=promtail-local-config.yaml\n"})}),"\n",(0,o.jsx)(e.p,{children:"You should see an output similar to the one below if the logs are successfully ingested."}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:i(6746).Z+"",width:"1917",height:"630"})})]})}function h(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},6746:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/loki-ingestion-21aaaa6fae2c025111bf1452508a8eb6.png"},1151:(n,e,i)=>{i.d(e,{Z:()=>a,a:()=>r});var o=i(7294);const s={},t=o.createContext(s);function r(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);